# NoneOS

NoneOS - это простая операционная система с собственным загрузчиком и базовым ядром. Проект создан в образовательных целях для изучения процесса загрузки компьютера, работы с железом на низком уровне и создания операционной системы с нуля.

## Содержание

- [Особенности](#особенности)
- [Структура проекта](#структура-проекта)
- [Требования](#требования)
- [Сборка и запуск](#сборка-и-запуск)
- [Архитектура](#архитектура)
- [Загрузчик (Bootloader)](#загрузчик-bootloader)
- [Ядро (Kernel)](#ядро-kernel)
- [Функциональность](#функциональность)

## Особенности

- **Двухступенчатый загрузчик**: 
  - Stage1: Написан на ассемблере, отвечает за начальную загрузку.
  - Stage2: Написан на C, предоставляет расширенные возможности загрузки.
  
- **Поддержка FAT файловой системы**:
  Загрузчик умеет читать FAT таблицы и загружать файлы по имени.

- **Работа с видеорежимами через VBE**:
  Поддержка графических режимов с разрешением до 32 бит на пиксель.

- **Защищенный режим**:
  Переход в защищенный режим с настройкой GDT.

- **Базовое ядро**:
  Ядро предоставляет простую текстовую консоль и может работать с диском через ATA интерфейс.

## Структура проекта
```
NoneOS/
├── bootloader/
│ ├── stage1/ # Первый этап загрузчика (ассемблер)
│ └── stage2/ # Второй этап загрузчика (C)
└── kernel/ # Исходный код ядра
```

## Требования

Для сборки и запуска проекта вам понадобится:

- NASM (для ассемблерного кода)
- GCC
- QEMU (для тестирования)
- GNU Make

## Сборка и запуск

1. Склонируйте репозиторий:
```bash
git clone https://github.com/Cheloved/none-os.git
cd NoneOS
```
2. Соберите и запустите образ:
```bash
make
make run
```

## Архитектура

### Загрузчик (Bootloader)

#### Stage1
- Написан полностью на ассемблере.
- Загружается BIOS'ом в первые 512 байт памяти.
- Основные функции:
  - Проверка оборудования.
  - Загрузка второго этапа загрузчика.
  - Базовый вывод сообщений на экран.

#### Stage2
- Написан на C с использованием ассемблера для критичных частей.
- Функционал:
  - Работа с FAT файловой системой.
  - Выбор видео режима через VBE.
  - Загрузка ядра в память.
  - Переход в защищенный режим.
  - Настройка GDT.
  - Передача управления ядру.

### Ядро (Kernel)

- Работает в защищенном режиме.
- Основные компоненты:
  - Консольный вывод.
  - Работа с видеопамятью.
  - Чтение с диска через ATA.
  - Простая файловая система.

## Функциональность

### Реализовано:

1. **Загрузка системы**
   - Двухступенчатый загрузчик.
   - Загрузка ядра из файла.
   - Переход в защищенный режим.

2. **Видео подсистема**
   - Работа с различными разрешениями.
   - 32-битный цвет.
   - Базовый текстовый вывод.

3. **Файловая система**
   - Чтение FAT таблиц.
   - Поиск файлов по имени.
   - Загрузка файлов в память.

4. **Работа с диском**
   - ATA чтение секторов.
   - Обработка ошибок.

5. **Отладочные функции**
   - Вывод hex значений.
   - Вывод десятичных чисел.
   - Отладочная информация при загрузке.

### В планах:

- Расширение файловой системы.
- Многозадачность.
- Драйверы устройств.
- Система прерываний.
- Улучшенная консоль.
- Запуск других бинарных приложений.
